<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Outlook AI - æ™ºèƒ½éƒµä»¶ç®¡ç†ç³»çµ± (æ¼”ç¤ºç‰ˆ)</title>
    <style>
/* ===================================
   Outlook AI - æ™ºèƒ½éƒµä»¶ç®¡ç†ç³»çµ±
   CSS Styles
   =================================== */

/* å…¨å±€é‡ç½®å’Œè®Šé‡ */
:root {
    --primary-color: #0078D4;
    --primary-hover: #106EBE;
    --success-color: #00C853;
    --warning-color: #FFC107;
    --error-color: #F44336;
    --urgent-color: #FF6B6B;

    --bg-primary: #FFFFFF;
    --bg-secondary: #F5F5F5;
    --bg-tertiary: #FAFAFA;

    --text-primary: #212121;
    --text-secondary: #757575;
    --text-tertiary: #9E9E9E;

    --border-color: #E0E0E0;
    --shadow-sm: 0 1px 3px rgba(0,0,0,0.12);
    --shadow-md: 0 4px 6px rgba(0,0,0,0.1);
    --shadow-lg: 0 10px 20px rgba(0,0,0,0.15);

    --transition-fast: 0.15s ease;
    --transition-normal: 0.3s ease;
    --transition-slow: 0.5s ease;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, 'Roboto', 'Helvetica Neue', Arial, sans-serif;
    background: var(--bg-secondary);
    color: var(--text-primary);
    line-height: 1.6;
    overflow-x: hidden;
}

/* ===================================
   é ‚éƒ¨å°èˆªæ¬„
   =================================== */
.top-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 12px 24px;
    background: var(--bg-primary);
    border-bottom: 1px solid var(--border-color);
    box-shadow: var(--shadow-sm);
    position: sticky;
    top: 0;
    z-index: 1000;
}

.logo {
    display: flex;
    align-items: center;
    gap: 12px;
}

.logo h1 {
    font-size: 20px;
    font-weight: 600;
    color: var(--primary-color);
}

.main-nav {
    display: flex;
    gap: 8px;
}

.nav-btn {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 16px;
    border: none;
    background: transparent;
    color: var(--text-secondary);
    cursor: pointer;
    border-radius: 6px;
    font-size: 14px;
    font-weight: 500;
    transition: var(--transition-fast);
}

.nav-btn:hover {
    background: var(--bg-secondary);
    color: var(--text-primary);
}

.nav-btn.active {
    background: var(--primary-color);
    color: white;
}

.user-profile {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 6px 12px;
    border-radius: 24px;
    cursor: pointer;
    transition: var(--transition-fast);
}

.user-profile:hover {
    background: var(--bg-secondary);
}

.user-avatar {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    object-fit: cover;
}

.user-name {
    font-size: 14px;
    font-weight: 500;
}

/* ===================================
   ä¸»è¦å…§å®¹å€
   =================================== */
.main-container {
    display: flex;
    flex-direction: column;
    gap: 16px;
    padding: 16px;
    max-width: 1800px;
    margin: 0 auto;
}

/* ===================================
   ç¬¬ä¸€å±¤ï¼šè¯çµ¡äººå¤§é ­åƒé¢æ¿
   =================================== */
.contacts-layer {
    background: var(--bg-primary);
    border-radius: 12px;
    padding: 20px;
    box-shadow: var(--shadow-md);
}

.layer-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}

.layer-header h2 {
    font-size: 20px;
    font-weight: 600;
    color: var(--text-primary);
}

.filter-tabs {
    display: flex;
    gap: 8px;
}

.tab {
    padding: 6px 16px;
    border: 1px solid var(--border-color);
    background: var(--bg-tertiary);
    color: var(--text-secondary);
    border-radius: 20px;
    cursor: pointer;
    font-size: 13px;
    font-weight: 500;
    transition: var(--transition-fast);
}

.tab:hover {
    background: var(--bg-secondary);
}

.tab.active {
    background: var(--primary-color);
    color: white;
    border-color: var(--primary-color);
}

.badge {
    display: inline-block;
    padding: 2px 8px;
    background: rgba(255, 255, 255, 0.3);
    border-radius: 10px;
    font-size: 11px;
    margin-left: 4px;
}

/* è¯çµ¡äººç¶²æ ¼ */
.contacts-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 16px;
    margin-bottom: 20px;
}

.contact-card {
    display: flex;
    flex-direction: column;
    gap: 12px;
    padding: 16px;
    background: var(--bg-tertiary);
    border: 2px solid transparent;
    border-radius: 12px;
    cursor: move;
    transition: var(--transition-normal);
    position: relative;
}

.contact-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
    border-color: var(--primary-color);
}

.contact-card.dragging {
    opacity: 0.5;
}

.contact-avatar-wrapper {
    position: relative;
    align-self: center;
}

.contact-avatar {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    object-fit: cover;
    border: 3px solid white;
    box-shadow: var(--shadow-sm);
}

.status-indicator {
    position: absolute;
    bottom: 5px;
    right: 5px;
    width: 16px;
    height: 16px;
    border-radius: 50%;
    border: 2px solid white;
}

.status-indicator.urgent {
    background: var(--error-color);
    animation: pulse 2s infinite;
}

.status-indicator.important {
    background: var(--warning-color);
}

.status-indicator.normal {
    background: var(--success-color);
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

.unread-count {
    position: absolute;
    top: -5px;
    right: -5px;
    background: var(--error-color);
    color: white;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 11px;
    font-weight: 600;
    box-shadow: var(--shadow-sm);
}

.contact-info {
    text-align: center;
}

.contact-name {
    font-size: 16px;
    font-weight: 600;
    margin-bottom: 4px;
}

.contact-company {
    font-size: 13px;
    color: var(--text-secondary);
    margin-bottom: 8px;
}

.contact-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    justify-content: center;
}

.tag {
    padding: 4px 10px;
    border-radius: 12px;
    font-size: 11px;
    font-weight: 500;
}

.tag.priority-high {
    background: #FFEBEE;
    color: #C62828;
}

.tag.priority-medium {
    background: #FFF8E1;
    color: #F57C00;
}

.tag.priority-low {
    background: #E8F5E9;
    color: #2E7D32;
}

.tag.ai-suggested {
    background: #E3F2FD;
    color: #1565C0;
}

.tag.deadline {
    background: #FFEBEE;
    color: #C62828;
}

.tag.follow-up {
    background: #F3E5F5;
    color: #7B1FA2;
}

.tag.new-customer {
    background: #E0F2F1;
    color: #00695C;
}

/* AI è©•åˆ†åœ“ç’° */
.ai-score {
    position: relative;
    width: 50px;
    height: 50px;
    align-self: center;
}

.score-ring {
    transform: rotate(0deg);
}

.score-text {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 14px;
    font-weight: 700;
    color: var(--text-primary);
}

/* å·²å®Œæˆå€åŸŸ */
.completed-zone {
    margin-top: 12px;
    padding: 24px;
    border: 2px dashed var(--border-color);
    border-radius: 12px;
    background: var(--bg-tertiary);
    transition: var(--transition-normal);
}

.completed-zone.drag-over {
    border-color: var(--success-color);
    background: #E8F5E9;
}

.zone-header {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    color: var(--text-secondary);
    font-size: 14px;
}

/* ===================================
   ç¬¬äºŒå±¤ï¼šéƒµä»¶ + èŠå¤©ä»‹é¢
   =================================== */
.email-chat-layer {
    display: grid;
    grid-template-columns: 350px 1fr;
    gap: 16px;
    min-height: 600px;
}

/* éƒµä»¶åˆ—è¡¨é¢æ¿ */
.email-list-panel {
    background: var(--bg-primary);
    border-radius: 12px;
    overflow: hidden;
    box-shadow: var(--shadow-md);
}

.panel-header {
    padding: 16px;
    border-bottom: 1px solid var(--border-color);
}

.panel-header h2 {
    font-size: 18px;
    font-weight: 600;
    margin-bottom: 12px;
}

.search-box {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 12px;
    background: var(--bg-secondary);
    border-radius: 8px;
}

.search-box input {
    flex: 1;
    border: none;
    background: transparent;
    outline: none;
    font-size: 14px;
}

.email-list {
    overflow-y: auto;
    max-height: calc(100vh - 300px);
}

.email-item {
    padding: 16px;
    border-bottom: 1px solid var(--border-color);
    cursor: pointer;
    transition: var(--transition-fast);
}

.email-item:hover {
    background: var(--bg-secondary);
}

.email-item.selected {
    background: #E3F2FD;
    border-left: 3px solid var(--primary-color);
}

.email-item.unread {
    background: #FFFDE7;
}

.email-sender {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 8px;
}

.sender-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    object-fit: cover;
}

.sender-info {
    flex: 1;
}

.sender-info h4 {
    font-size: 14px;
    font-weight: 600;
    margin-bottom: 2px;
}

.email-time {
    font-size: 12px;
    color: var(--text-secondary);
}

.email-preview {
    margin-bottom: 8px;
}

.email-subject {
    font-size: 14px;
    font-weight: 600;
    margin-bottom: 4px;
}

.email-snippet {
    font-size: 13px;
    color: var(--text-secondary);
    line-height: 1.4;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.email-meta {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
}

.ai-label {
    padding: 3px 8px;
    background: #E3F2FD;
    color: #1565C0;
    border-radius: 10px;
    font-size: 11px;
    font-weight: 500;
}

.ai-label.urgent {
    background: #FFEBEE;
    color: #C62828;
}

.ai-label.potential {
    background: #F3E5F5;
    color: #7B1FA2;
}

.category-tag {
    padding: 3px 8px;
    background: var(--bg-secondary);
    color: var(--text-secondary);
    border-radius: 10px;
    font-size: 11px;
}

/* éƒµä»¶å…§å®¹é¢æ¿ */
.email-content-panel {
    background: var(--bg-primary);
    border-radius: 12px;
    overflow: hidden;
    box-shadow: var(--shadow-md);
    display: flex;
    flex-direction: column;
}

.content-header {
    padding: 20px;
    border-bottom: 1px solid var(--border-color);
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
}

.email-header-info {
    flex: 1;
}

.email-title {
    font-size: 20px;
    font-weight: 600;
    margin-bottom: 12px;
}

.email-header-meta {
    display: flex;
    align-items: center;
    gap: 12px;
}

.sender-avatar-large {
    width: 40px;
    height: 40px;
    border-radius: 50%;
}

.email-address {
    color: var(--text-secondary);
    font-weight: 400;
    font-size: 14px;
}

.email-timestamp {
    font-size: 13px;
    color: var(--text-secondary);
}

.email-actions {
    display: flex;
    gap: 8px;
}

.action-btn {
    padding: 8px;
    border: 1px solid var(--border-color);
    background: white;
    border-radius: 6px;
    cursor: pointer;
    transition: var(--transition-fast);
}

.action-btn:hover {
    background: var(--bg-secondary);
}

.email-body {
    flex: 1;
    overflow-y: auto;
    padding: 20px;
}

.email-content {
    line-height: 1.8;
    margin-bottom: 24px;
}

.email-content p {
    margin-bottom: 12px;
}

.email-content ul {
    margin-left: 20px;
    margin-bottom: 12px;
}

.email-content li {
    margin-bottom: 6px;
}

/* AI æ´å¯Ÿé¢æ¿ */
.ai-insights-box {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 12px;
    padding: 20px;
    color: white;
    margin-bottom: 20px;
}

.insights-header {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 16px;
}

.insights-header h4 {
    font-size: 16px;
    font-weight: 600;
}

.insights-content {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.insight-item {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    padding: 12px;
    display: flex;
    gap: 12px;
}

.insight-item.priority-high {
    background: rgba(255, 107, 107, 0.2);
    border-left: 3px solid #FF6B6B;
}

.insight-icon {
    font-size: 24px;
}

.insight-item strong {
    display: block;
    margin-bottom: 4px;
}

.insight-item p {
    font-size: 13px;
    opacity: 0.9;
}

.suggestion-list {
    margin-top: 8px;
    margin-left: 0;
    list-style: none;
}

.suggestion-list li {
    padding-left: 16px;
    position: relative;
    margin-bottom: 4px;
    font-size: 13px;
}

.suggestion-list li::before {
    content: 'âœ“';
    position: absolute;
    left: 0;
    color: #4CAF50;
}

.generate-reply-btn {
    width: 100%;
    padding: 12px;
    background: white;
    color: #667eea;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    margin-top: 12px;
    transition: var(--transition-fast);
}

.generate-reply-btn:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}

/* å¿«é€Ÿå›è¦†å€ */
.quick-reply-section {
    border-top: 1px solid var(--border-color);
    padding: 16px;
}

.reply-tabs {
    display: flex;
    gap: 4px;
    margin-bottom: 12px;
}

.reply-tab {
    padding: 8px 16px;
    border: none;
    background: transparent;
    color: var(--text-secondary);
    cursor: pointer;
    border-bottom: 2px solid transparent;
    font-size: 14px;
    font-weight: 500;
    transition: var(--transition-fast);
}

.reply-tab:hover {
    color: var(--text-primary);
}

.reply-tab.active {
    color: var(--primary-color);
    border-bottom-color: var(--primary-color);
}

.reply-input-area {
    background: var(--bg-tertiary);
    border-radius: 8px;
    padding: 12px;
}

.input-toolbar {
    display: flex;
    gap: 8px;
    margin-bottom: 8px;
}

.toolbar-btn {
    padding: 6px;
    border: 1px solid var(--border-color);
    background: white;
    border-radius: 4px;
    cursor: pointer;
    transition: var(--transition-fast);
}

.toolbar-btn:hover {
    background: var(--bg-secondary);
}

.reply-textarea {
    width: 100%;
    min-height: 100px;
    padding: 12px;
    border: 1px solid var(--border-color);
    border-radius: 6px;
    font-family: inherit;
    font-size: 14px;
    resize: vertical;
    margin-bottom: 12px;
}

.reply-actions {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.ai-suggestions {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
}

.suggestion-chip {
    padding: 6px 12px;
    background: white;
    border: 1px solid var(--border-color);
    border-radius: 16px;
    font-size: 12px;
    cursor: pointer;
    transition: var(--transition-fast);
}

.suggestion-chip:hover {
    background: var(--primary-color);
    color: white;
    border-color: var(--primary-color);
}

.send-btn {
    padding: 10px 24px;
    border: none;
    background: var(--primary-color);
    color: white;
    border-radius: 6px;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    transition: var(--transition-fast);
}

.send-btn:hover {
    background: var(--primary-hover);
    transform: translateY(-1px);
}

/* ===================================
   ç¬¬ä¸‰å±¤ï¼šAI åŠ©æ‰‹é¢æ¿
   =================================== */
.ai-assistant-layer {
    background: var(--bg-primary);
    border-radius: 12px;
    box-shadow: var(--shadow-md);
    overflow: hidden;
}

.assistant-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px 20px;
    background: linear-gradient(135deg, #FF6B6B 0%, #FF8E53 100%);
    color: white;
}

.assistant-header h2 {
    display: flex;
    align-items: center;
    gap: 12px;
    font-size: 18px;
}

.toggle-btn {
    padding: 8px;
    background: rgba(255, 255, 255, 0.2);
    border: none;
    border-radius: 6px;
    color: white;
    cursor: pointer;
    transition: var(--transition-fast);
}

.toggle-btn:hover {
    background: rgba(255, 255, 255, 0.3);
}

.assistant-tabs {
    display: flex;
    border-bottom: 1px solid var(--border-color);
    padding: 0 20px;
    background: var(--bg-tertiary);
}

.assistant-tab {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 12px 20px;
    border: none;
    background: transparent;
    color: var(--text-secondary);
    cursor: pointer;
    font-size: 14px;
    font-weight: 500;
    border-bottom: 2px solid transparent;
    transition: var(--transition-fast);
}

.assistant-tab:hover {
    color: var(--text-primary);
    background: rgba(0, 0, 0, 0.02);
}

.assistant-tab.active {
    color: var(--primary-color);
    border-bottom-color: var(--primary-color);
}

.assistant-panel {
    display: none;
    padding: 20px;
    max-height: 600px;
    overflow-y: auto;
}

.assistant-panel.active {
    display: block;
}

.panel-section {
    margin-bottom: 32px;
}

.panel-section h3 {
    font-size: 16px;
    font-weight: 600;
    margin-bottom: 16px;
    color: var(--text-primary);
}

/* å•†å“ç®¡ç† PM é¢æ¿ */
.pipeline-cards {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 16px;
}

.pipeline-card {
    background: var(--bg-tertiary);
    border-radius: 10px;
    padding: 16px;
    border: 1px solid var(--border-color);
}

.pipeline-card .card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 16px;
}

.pipeline-card h4 {
    font-size: 15px;
    font-weight: 600;
}

.status-badge {
    padding: 4px 12px;
    border-radius: 12px;
    font-size: 11px;
    font-weight: 600;
}

.status-badge.active {
    background: #E8F5E9;
    color: #2E7D32;
}

.status-badge.planning {
    background: #FFF8E1;
    color: #F57C00;
}

.card-stats {
    display: flex;
    justify-content: space-around;
    margin-bottom: 16px;
}

.stat {
    text-align: center;
}

.stat-label {
    font-size: 11px;
    color: var(--text-secondary);
    display: block;
    margin-bottom: 4px;
}

.stat-value {
    font-size: 20px;
    font-weight: 700;
    color: var(--text-primary);
}

.stat-value.urgent {
    color: var(--error-color);
}

.progress-bar {
    height: 6px;
    background: var(--bg-secondary);
    border-radius: 3px;
    overflow: hidden;
    margin-bottom: 8px;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--primary-color), var(--success-color));
    transition: width var(--transition-slow);
}

.conversion-rate {
    font-size: 13px;
    color: var(--text-secondary);
}

.trend {
    font-weight: 600;
    margin-left: 8px;
}

.trend.up {
    color: var(--success-color);
}

.trend.down {
    color: var(--error-color);
}

.insights-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 16px;
}

.insight-card {
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 16px;
    background: var(--bg-tertiary);
    border-radius: 10px;
    border: 1px solid var(--border-color);
}

.insight-icon {
    font-size: 32px;
}

.insight-data {
    flex: 1;
}

.insight-label {
    font-size: 12px;
    color: var(--text-secondary);
    margin-bottom: 4px;
}

.insight-value {
    font-size: 24px;
    font-weight: 700;
    margin-bottom: 4px;
}

.insight-change {
    font-size: 12px;
    font-weight: 600;
}

.insight-change.positive {
    color: var(--success-color);
}

.insight-change.negative {
    color: var(--error-color);
}

.action-list {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.action-item {
    display: flex;
    gap: 12px;
    padding: 16px;
    background: var(--bg-tertiary);
    border-radius: 10px;
    border-left: 3px solid var(--border-color);
}

.action-item.priority-high {
    border-left-color: var(--error-color);
    background: #FFEBEE;
}

.action-item.priority-medium {
    border-left-color: var(--warning-color);
    background: #FFF8E1;
}

.action-item.priority-low {
    border-left-color: var(--primary-color);
    background: #E3F2FD;
}

.action-icon {
    font-size: 24px;
}

.action-content {
    flex: 1;
}

.action-content h4 {
    font-size: 14px;
    font-weight: 600;
    margin-bottom: 6px;
}

.action-content p {
    font-size: 13px;
    color: var(--text-secondary);
    margin-bottom: 10px;
}

.action-btn-small {
    padding: 6px 14px;
    border: 1px solid var(--border-color);
    background: white;
    border-radius: 6px;
    font-size: 12px;
    font-weight: 500;
    cursor: pointer;
    transition: var(--transition-fast);
}

.action-btn-small:hover {
    background: var(--bg-secondary);
}

.action-btn-small.primary {
    background: var(--primary-color);
    color: white;
    border-color: var(--primary-color);
}

.action-btn-small.primary:hover {
    background: var(--primary-hover);
}

.action-btn-small.secondary {
    background: var(--bg-secondary);
}

/* éƒµä»¶è¿½è¹¤é¢æ¿ */
.tracking-timeline {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.timeline-item {
    display: flex;
    gap: 12px;
    position: relative;
}

.timeline-item:not(:last-child)::after {
    content: '';
    position: absolute;
    left: 11px;
    top: 32px;
    width: 2px;
    height: calc(100% + 4px);
    background: var(--border-color);
}

.timeline-marker {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: var(--bg-secondary);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    font-weight: 600;
    flex-shrink: 0;
}

.timeline-item.completed .timeline-marker {
    background: var(--success-color);
    color: white;
}

.timeline-item.pending .timeline-marker {
    background: var(--warning-color);
    color: white;
}

.timeline-content {
    flex: 1;
    padding-bottom: 8px;
}

.timeline-content h4 {
    font-size: 14px;
    font-weight: 600;
    margin-bottom: 4px;
}

.timeline-content p {
    font-size: 13px;
    color: var(--text-secondary);
    margin-bottom: 2px;
}

.timeline-time {
    font-size: 12px;
    color: var(--text-tertiary);
}

.engagement-stats {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.stat-row {
    display: flex;
    align-items: center;
    gap: 12px;
}

.stat-row .stat-label {
    min-width: 80px;
    font-size: 13px;
    color: var(--text-secondary);
}

.stat-bar {
    flex: 1;
    height: 8px;
    background: var(--bg-secondary);
    border-radius: 4px;
    overflow: hidden;
}

.stat-bar-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--primary-color), var(--success-color));
    transition: width var(--transition-slow);
}

.stat-percentage {
    min-width: 60px;
    text-align: right;
    font-size: 13px;
    font-weight: 600;
}

.behavior-insights {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.behavior-item {
    display: flex;
    gap: 12px;
    padding: 12px;
    background: var(--bg-tertiary);
    border-radius: 8px;
}

.behavior-item.ai-prediction {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
}

.behavior-icon {
    font-size: 20px;
}

.behavior-item p {
    font-size: 13px;
    line-height: 1.6;
}

/* è‡ªå‹•è·Ÿå‚¬é¢æ¿ */
.followup-list {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.followup-item {
    background: var(--bg-tertiary);
    border-radius: 10px;
    padding: 16px;
    border: 1px solid var(--border-color);
}

.followup-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 16px;
}

.followup-contact {
    display: flex;
    gap: 12px;
    align-items: center;
}

.followup-contact img {
    width: 40px;
    height: 40px;
    border-radius: 50%;
}

.followup-contact h4 {
    font-size: 14px;
    font-weight: 600;
}

.followup-contact p {
    font-size: 12px;
    color: var(--text-secondary);
}

.followup-status {
    padding: 4px 12px;
    border-radius: 12px;
    font-size: 11px;
    font-weight: 600;
}

.followup-status.active {
    background: #E8F5E9;
    color: #2E7D32;
}

.followup-status.urgent {
    background: #FFEBEE;
    color: #C62828;
}

.followup-status.scheduled {
    background: #E3F2FD;
    color: #1565C0;
}

.followup-timeline {
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin-bottom: 16px;
}

.followup-step {
    display: flex;
    gap: 12px;
    position: relative;
}

.step-number {
    width: 28px;
    height: 28px;
    border-radius: 50%;
    background: var(--bg-secondary);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 13px;
    font-weight: 600;
    flex-shrink: 0;
}

.followup-step.completed .step-number {
    background: var(--success-color);
    color: white;
}

.followup-step.current .step-number {
    background: var(--primary-color);
    color: white;
}

.followup-step.overdue .step-number {
    background: var(--error-color);
    color: white;
}

.step-content {
    flex: 1;
}

.step-content p {
    font-size: 13px;
    margin-bottom: 4px;
}

.step-time {
    font-size: 12px;
    color: var(--text-secondary);
    display: block;
    margin-bottom: 8px;
}

.step-actions {
    display: flex;
    gap: 8px;
}

.step-btn {
    padding: 4px 12px;
    border: 1px solid var(--border-color);
    background: white;
    border-radius: 4px;
    font-size: 11px;
    cursor: pointer;
    transition: var(--transition-fast);
}

.step-btn:hover {
    background: var(--bg-secondary);
}

.step-btn.urgent {
    background: var(--error-color);
    color: white;
    border-color: var(--error-color);
}

.followup-actions {
    display: flex;
    gap: 8px;
    justify-content: flex-end;
}

.followup-summary {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.auto-followup-settings {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.setting-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px;
    background: var(--bg-tertiary);
    border-radius: 8px;
}

.setting-label h4 {
    font-size: 14px;
    font-weight: 600;
    margin-bottom: 4px;
}

.setting-label p {
    font-size: 12px;
    color: var(--text-secondary);
}

/* Toggle Switch */
.toggle-switch {
    position: relative;
    display: inline-block;
    width: 48px;
    height: 24px;
}

.toggle-switch input {
    opacity: 0;
    width: 0;
    height: 0;
}

.slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: var(--bg-secondary);
    border-radius: 24px;
    transition: var(--transition-fast);
}

.slider:before {
    position: absolute;
    content: "";
    height: 18px;
    width: 18px;
    left: 3px;
    bottom: 3px;
    background: white;
    border-radius: 50%;
    transition: var(--transition-fast);
}

input:checked + .slider {
    background: var(--primary-color);
}

input:checked + .slider:before {
    transform: translateX(24px);
}

.followup-analytics {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 16px;
}

.analytics-card {
    background: var(--bg-tertiary);
    border-radius: 10px;
    padding: 16px;
    border: 1px solid var(--border-color);
}

.analytics-card h4 {
    font-size: 15px;
    font-weight: 600;
    margin-bottom: 16px;
}

.analytics-stats {
    display: flex;
    justify-content: space-around;
}

.stat-item {
    text-align: center;
}

.stat-number {
    display: block;
    font-size: 28px;
    font-weight: 700;
    color: var(--primary-color);
    margin-bottom: 4px;
}

.stat-item .stat-label {
    font-size: 11px;
    color: var(--text-secondary);
}

.best-times {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.time-slot {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 12px;
    background: white;
    border-radius: 8px;
}

.time-icon {
    font-size: 20px;
}

.time-label {
    flex: 1;
    font-size: 13px;
    margin-left: 12px;
}

.time-rate {
    font-size: 13px;
    font-weight: 600;
    color: var(--success-color);
}

.create-followup-btn {
    width: 100%;
    padding: 14px;
    background: var(--primary-color);
    color: white;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    transition: var(--transition-fast);
}

.create-followup-btn:hover {
    background: var(--primary-hover);
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}

/* ===================================
   åº•éƒ¨ç‹€æ…‹åˆ—
   =================================== */
.status-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 24px;
    background: var(--bg-primary);
    border-top: 1px solid var(--border-color);
    font-size: 12px;
    color: var(--text-secondary);
}

.status-left,
.status-right {
    display: flex;
    gap: 20px;
}

.status-item {
    display: flex;
    align-items: center;
    gap: 6px;
}

/* ===================================
   éŸ¿æ‡‰å¼è¨­è¨ˆ
   =================================== */
@media (max-width: 1400px) {
    .contacts-grid {
        grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
    }
}

@media (max-width: 1200px) {
    .email-chat-layer {
        grid-template-columns: 300px 1fr;
    }

    .pipeline-cards,
    .insights-grid {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 992px) {
    .main-container {
        padding: 12px;
    }

    .email-chat-layer {
        grid-template-columns: 1fr;
    }

    .email-list-panel {
        max-height: 400px;
    }

    .contacts-grid {
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    }
}

@media (max-width: 768px) {
    .main-nav {
        display: none;
    }

    .top-header {
        padding: 12px 16px;
    }

    .contacts-grid {
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    }

    .contact-avatar {
        width: 60px;
        height: 60px;
    }

    .ai-suggestions {
        display: none;
    }
}

@media (max-width: 576px) {
    .contacts-grid {
        grid-template-columns: 1fr;
    }

    .filter-tabs {
        flex-wrap: wrap;
    }

    .status-bar {
        flex-direction: column;
        gap: 8px;
        align-items: flex-start;
    }

    .status-left,
    .status-right {
        flex-wrap: wrap;
    }
}

/* ===================================
   æ»¾å‹•æ¢æ¨£å¼
   =================================== */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: var(--bg-secondary);
}

::-webkit-scrollbar-thumb {
    background: var(--border-color);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--text-tertiary);
}

/* ===================================
   å‹•ç•«
   =================================== */
@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.contact-card,
.email-item,
.action-item {
    animation: slideIn var(--transition-normal) ease-out;
}

/* ===================================
   å·¥å…·é¡
   =================================== */
.hidden {
    display: none !important;
}

.fade-in {
    animation: fadeIn var(--transition-normal) ease-in;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}
    </style>
</head>
<body>
    <!-- é ‚éƒ¨å°èˆªæ¬„ -->
    <header class="top-header">
        <div class="logo">
            <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
                <rect width="32" height="32" rx="6" fill="#0078D4"/>
                <path d="M16 8L8 12v8c0 5 8 10 8 10s8-5 8-10v-8l-8-4z" fill="white"/>
            </svg>
            <h1>Outlook AI</h1>
        </div>
        <nav class="main-nav">
            <button class="nav-btn active" data-view="inbox">
                <svg width="20" height="20" viewBox="0 0 20 20"><path d="M3 4h14v12H3V4z" stroke="currentColor" fill="none"/></svg>
                æ”¶ä»¶ç®±
            </button>
            <button class="nav-btn" data-view="sent">
                <svg width="20" height="20" viewBox="0 0 20 20"><path d="M3 10l14-6v12L3 10z" fill="currentColor"/></svg>
                å·²ç™¼é€
            </button>
            <button class="nav-btn" data-view="ai-insights">
                <svg width="20" height="20" viewBox="0 0 20 20"><circle cx="10" cy="10" r="8" stroke="currentColor" fill="none"/><path d="M10 6v4l3 3" stroke="currentColor" fill="none"/></svg>
                AI æ´å¯Ÿ
            </button>
        </nav>
        <div class="user-profile">
            <img src="https://i.pravatar.cc/40?img=12" alt="User" class="user-avatar">
            <span class="user-name">Amber</span>
        </div>
    </header>

    <!-- ä¸»è¦å…§å®¹å€ -->
    <main class="main-container">
        <!-- ç¬¬ä¸€å±¤ï¼šä»Šæ—¥æ”¶ä»¶äººå¤§é ­åƒé¢æ¿ -->
        <section class="layer-1 contacts-layer">
            <div class="layer-header">
                <h2>ä»Šæ—¥è¯çµ¡äºº</h2>
                <div class="filter-tabs">
                    <button class="tab active" data-filter="pending">å¾…è™•ç† <span class="badge">8</span></button>
                    <button class="tab" data-filter="completed">å·²å®Œæˆ <span class="badge">12</span></button>
                </div>
            </div>

            <div class="contacts-grid" id="contactsGrid">
                <!-- å¾…è™•ç†çš„è¯çµ¡äºº -->
                <div class="contact-card pending" data-contact-id="1" draggable="true">
                    <div class="contact-avatar-wrapper">
                        <img src="https://i.pravatar.cc/80?img=1" alt="Contact" class="contact-avatar">
                        <span class="status-indicator urgent"></span>
                        <span class="unread-count">3</span>
                    </div>
                    <div class="contact-info">
                        <h3 class="contact-name">ç‹å°æ˜</h3>
                        <p class="contact-company">ABC ç§‘æŠ€</p>
                        <div class="contact-tags">
                            <span class="tag priority-high">é«˜å„ªå…ˆç´š</span>
                            <span class="tag ai-suggested">AI å»ºè­°è·Ÿé€²</span>
                        </div>
                    </div>
                    <div class="ai-score" data-score="95">
                        <svg class="score-ring" width="50" height="50">
                            <circle cx="25" cy="25" r="20" fill="none" stroke="#e0e0e0" stroke-width="4"/>
                            <circle cx="25" cy="25" r="20" fill="none" stroke="#00C853" stroke-width="4" stroke-dasharray="125.6" stroke-dashoffset="6.28" transform="rotate(-90 25 25)"/>
                        </svg>
                        <span class="score-text">95</span>
                    </div>
                </div>

                <div class="contact-card pending" data-contact-id="2" draggable="true">
                    <div class="contact-avatar-wrapper">
                        <img src="https://i.pravatar.cc/80?img=5" alt="Contact" class="contact-avatar">
                        <span class="status-indicator important"></span>
                        <span class="unread-count">2</span>
                    </div>
                    <div class="contact-info">
                        <h3 class="contact-name">æç¾ç²</h3>
                        <p class="contact-company">XYZ è²¿æ˜“</p>
                        <div class="contact-tags">
                            <span class="tag priority-medium">ä¸­å„ªå…ˆç´š</span>
                            <span class="tag deadline">ä»Šæ—¥æˆªæ­¢</span>
                        </div>
                    </div>
                    <div class="ai-score" data-score="78">
                        <svg class="score-ring" width="50" height="50">
                            <circle cx="25" cy="25" r="20" fill="none" stroke="#e0e0e0" stroke-width="4"/>
                            <circle cx="25" cy="25" r="20" fill="none" stroke="#FFC107" stroke-width="4" stroke-dasharray="125.6" stroke-dashoffset="27.6" transform="rotate(-90 25 25)"/>
                        </svg>
                        <span class="score-text">78</span>
                    </div>
                </div>

                <div class="contact-card pending" data-contact-id="3" draggable="true">
                    <div class="contact-avatar-wrapper">
                        <img src="https://i.pravatar.cc/80?img=8" alt="Contact" class="contact-avatar">
                        <span class="status-indicator normal"></span>
                        <span class="unread-count">1</span>
                    </div>
                    <div class="contact-info">
                        <h3 class="contact-name">å¼µå»ºåœ‹</h3>
                        <p class="contact-company">DEF ä¼æ¥­</p>
                        <div class="contact-tags">
                            <span class="tag priority-low">ä½å„ªå…ˆç´š</span>
                            <span class="tag follow-up">å¾…è·Ÿé€²</span>
                        </div>
                    </div>
                    <div class="ai-score" data-score="62">
                        <svg class="score-ring" width="50" height="50">
                            <circle cx="25" cy="25" r="20" fill="none" stroke="#e0e0e0" stroke-width="4"/>
                            <circle cx="25" cy="25" r="20" fill="none" stroke="#2196F3" stroke-width="4" stroke-dasharray="125.6" stroke-dashoffset="47.7" transform="rotate(-90 25 25)"/>
                        </svg>
                        <span class="score-text">62</span>
                    </div>
                </div>

                <div class="contact-card pending" data-contact-id="4" draggable="true">
                    <div class="contact-avatar-wrapper">
                        <img src="https://i.pravatar.cc/80?img=3" alt="Contact" class="contact-avatar">
                        <span class="status-indicator urgent"></span>
                        <span class="unread-count">5</span>
                    </div>
                    <div class="contact-info">
                        <h3 class="contact-name">é™³é›…å©·</h3>
                        <p class="contact-company">GHI é›†åœ˜</p>
                        <div class="contact-tags">
                            <span class="tag priority-high">é«˜å„ªå…ˆç´š</span>
                            <span class="tag new-customer">æ–°å®¢æˆ¶</span>
                        </div>
                    </div>
                    <div class="ai-score" data-score="88">
                        <svg class="score-ring" width="50" height="50">
                            <circle cx="25" cy="25" r="20" fill="none" stroke="#e0e0e0" stroke-width="4"/>
                            <circle cx="25" cy="25" r="20" fill="none" stroke="#00C853" stroke-width="4" stroke-dasharray="125.6" stroke-dashoffset="15.1" transform="rotate(-90 25 25)"/>
                        </svg>
                        <span class="score-text">88</span>
                    </div>
                </div>
            </div>

            <!-- å·²å®Œæˆå€åŸŸï¼ˆæ‹–æ”¾ç›®æ¨™ï¼‰ -->
            <div class="completed-zone" id="completedZone">
                <div class="zone-header">
                    <svg width="24" height="24" viewBox="0 0 24 24">
                        <path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z" fill="#00C853"/>
                    </svg>
                    <span>æ‹–æ”¾åˆ°æ­¤è™•æ¨™è¨˜ç‚ºå·²å®Œæˆ</span>
                </div>
            </div>
        </section>

        <!-- ç¬¬äºŒå±¤ï¼šéƒµä»¶åˆ—è¡¨ + èŠå¤©æ•´åˆä»‹é¢ -->
        <section class="layer-2 email-chat-layer">
            <!-- éƒµä»¶åˆ—è¡¨ -->
            <div class="email-list-panel">
                <div class="panel-header">
                    <h2>éƒµä»¶åˆ—è¡¨</h2>
                    <div class="search-box">
                        <svg width="16" height="16" viewBox="0 0 16 16">
                            <circle cx="6" cy="6" r="5" stroke="currentColor" fill="none"/>
                            <path d="M10 10l4 4" stroke="currentColor"/>
                        </svg>
                        <input type="text" placeholder="æœå°‹éƒµä»¶..." id="emailSearch">
                    </div>
                </div>

                <div class="email-list" id="emailList">
                    <div class="email-item unread selected" data-email-id="1" data-contact-id="1">
                        <div class="email-sender">
                            <img src="https://i.pravatar.cc/40?img=1" alt="Sender" class="sender-avatar">
                            <div class="sender-info">
                                <h4>ç‹å°æ˜</h4>
                                <span class="email-time">ä¸Šåˆ 9:30</span>
                            </div>
                        </div>
                        <div class="email-preview">
                            <h5 class="email-subject">é—œæ–¼ç”¢å“å ±åƒ¹çš„è¨è«–</h5>
                            <p class="email-snippet">æ‚¨å¥½ï¼Œæˆ‘å€‘å°è²´å…¬å¸çš„ç”¢å“å¾ˆæ„Ÿèˆˆè¶£ï¼Œæƒ³äº†è§£æ›´è©³ç´°çš„å ±åƒ¹è³‡è¨Š...</p>
                        </div>
                        <div class="email-meta">
                            <span class="ai-label">AI åˆ†æ: é«˜æ„å‘å®¢æˆ¶</span>
                            <span class="category-tag">å ±åƒ¹è«®è©¢</span>
                        </div>
                    </div>

                    <div class="email-item unread" data-email-id="2" data-contact-id="1">
                        <div class="email-sender">
                            <img src="https://i.pravatar.cc/40?img=1" alt="Sender" class="sender-avatar">
                            <div class="sender-info">
                                <h4>ç‹å°æ˜</h4>
                                <span class="email-time">ä¸Šåˆ 10:15</span>
                            </div>
                        </div>
                        <div class="email-preview">
                            <h5 class="email-subject">Re: é—œæ–¼ç”¢å“å ±åƒ¹çš„è¨è«–</h5>
                            <p class="email-snippet">è£œå……ä¸€ä¸‹ï¼Œæˆ‘å€‘é è¨ˆæ¡è³¼æ•¸é‡åœ¨ 500-1000 ä»¶ä¹‹é–“...</p>
                        </div>
                        <div class="email-meta">
                            <span class="ai-label urgent">éœ€è¦ç«‹å³å›è¦†</span>
                            <span class="category-tag">è¨‚å–®ç¢ºèª</span>
                        </div>
                    </div>

                    <div class="email-item" data-email-id="3" data-contact-id="2">
                        <div class="email-sender">
                            <img src="https://i.pravatar.cc/40?img=5" alt="Sender" class="sender-avatar">
                            <div class="sender-info">
                                <h4>æç¾ç²</h4>
                                <span class="email-time">æ˜¨å¤©</span>
                            </div>
                        </div>
                        <div class="email-preview">
                            <h5 class="email-subject">ç‰©æµé…é€æ™‚é–“ç¢ºèª</h5>
                            <p class="email-snippet">è«‹ç¢ºèªæœ¬æ‰¹è²¨ç‰©çš„é…é€æ™‚é–“ï¼Œæˆ‘å€‘é€™é‚Šéœ€è¦æå‰å®‰æ’...</p>
                        </div>
                        <div class="email-meta">
                            <span class="ai-label">å»ºè­°ä»Šæ—¥è·Ÿé€²</span>
                            <span class="category-tag">ç‰©æµ</span>
                        </div>
                    </div>

                    <div class="email-item unread" data-email-id="4" data-contact-id="4">
                        <div class="email-sender">
                            <img src="https://i.pravatar.cc/40?img=3" alt="Sender" class="sender-avatar">
                            <div class="sender-info">
                                <h4>é™³é›…å©·</h4>
                                <span class="email-time">ä¸Šåˆ 11:20</span>
                            </div>
                        </div>
                        <div class="email-preview">
                            <h5 class="email-subject">æ–°ç”¢å“åˆä½œæ©Ÿæœƒ</h5>
                            <p class="email-snippet">æˆ‘å€‘æ˜¯ GHI é›†åœ˜çš„æ¡è³¼ç¶“ç†ï¼Œçœ‹åˆ°è²´å…¬å¸çš„æ–°ç”¢å“ç·š...</p>
                        </div>
                        <div class="email-meta">
                            <span class="ai-label potential">æ½›åœ¨å¤§å®¢æˆ¶</span>
                            <span class="category-tag">å•†å‹™åˆä½œ</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- éƒµä»¶å…§å®¹ + èŠå¤©æ•´åˆ -->
            <div class="email-content-panel">
                <div class="content-header">
                    <div class="email-header-info">
                        <h3 class="email-title">é—œæ–¼ç”¢å“å ±åƒ¹çš„è¨è«–</h3>
                        <div class="email-header-meta">
                            <img src="https://i.pravatar.cc/40?img=1" alt="Sender" class="sender-avatar-large">
                            <div>
                                <h4>ç‹å°æ˜ <span class="email-address">&lt;wangxm@abc-tech.com&gt;</span></h4>
                                <p class="email-timestamp">ä»Šå¤©ä¸Šåˆ 9:30</p>
                            </div>
                        </div>
                    </div>
                    <div class="email-actions">
                        <button class="action-btn" title="å›è¦†">
                            <svg width="20" height="20" viewBox="0 0 20 20"><path d="M10 15l-5-5h3V5h4v5h3l-5 5z" fill="currentColor"/></svg>
                        </button>
                        <button class="action-btn" title="è½‰ç™¼">
                            <svg width="20" height="20" viewBox="0 0 20 20"><path d="M15 10l5 5-5 5v-3H5v-4h10v-3z" fill="currentColor"/></svg>
                        </button>
                        <button class="action-btn" title="å°å­˜">
                            <svg width="20" height="20" viewBox="0 0 20 20"><rect x="3" y="5" width="14" height="10" stroke="currentColor" fill="none"/></svg>
                        </button>
                    </div>
                </div>

                <!-- éƒµä»¶å…§å®¹ -->
                <div class="email-body">
                    <div class="email-content">
                        <p>æ‚¨å¥½ Amberï¼Œ</p>
                        <p>æˆ‘å€‘æ˜¯ ABC ç§‘æŠ€å…¬å¸çš„æ¡è³¼éƒ¨é–€ã€‚æœ€è¿‘åœ¨å¸‚å ´èª¿æŸ¥ä¸­æ³¨æ„åˆ°è²´å…¬å¸çš„ç”¢å“ç·šï¼Œç‰¹åˆ¥æ˜¯æ–°æ¨å‡ºçš„æ™ºèƒ½è¨­å‚™ç³»åˆ—ï¼Œæˆ‘å€‘éå¸¸æ„Ÿèˆˆè¶£ã€‚</p>
                        <p>èƒ½å¦è«‹æ‚¨æä¾›ä»¥ä¸‹è³‡è¨Šï¼š</p>
                        <ul>
                            <li>ç”¢å“å‹è™Ÿ X100 çš„è©³ç´°è¦æ ¼å’Œå ±åƒ¹</li>
                            <li>å¤§é‡æ¡è³¼çš„æŠ˜æ‰£æ–¹æ¡ˆ</li>
                            <li>äº¤è²¨æœŸå’Œå”®å¾Œæœå‹™æ¢æ¬¾</li>
                        </ul>
                        <p>æˆ‘å€‘é è¨ˆåœ¨æœ¬æœˆåº•å‰åšå‡ºæ¡è³¼æ±ºå®šï¼ŒæœŸå¾…æ‚¨çš„å›è¦†ã€‚</p>
                        <p>è¬è¬ï¼<br>ç‹å°æ˜<br>ABC ç§‘æŠ€æ¡è³¼éƒ¨</p>
                    </div>

                    <!-- AI æ´å¯Ÿé¢æ¿ -->
                    <div class="ai-insights-box">
                        <div class="insights-header">
                            <svg width="20" height="20" viewBox="0 0 20 20">
                                <path d="M10 2l2 6h6l-5 4 2 6-5-4-5 4 2-6-5-4h6l2-6z" fill="#FFD700"/>
                            </svg>
                            <h4>AI æ™ºèƒ½åˆ†æ</h4>
                        </div>
                        <div class="insights-content">
                            <div class="insight-item priority-high">
                                <span class="insight-icon">ğŸ¯</span>
                                <div>
                                    <strong>å®¢æˆ¶æ„å‘åº¦: 95%</strong>
                                    <p>é€™æ˜¯ä¸€å€‹é«˜æ„å‘çš„æ½›åœ¨å®¢æˆ¶ï¼Œå»ºè­°åœ¨ 2 å°æ™‚å…§å›è¦†</p>
                                </div>
                            </div>
                            <div class="insight-item">
                                <span class="insight-icon">ğŸ’¼</span>
                                <div>
                                    <strong>å•†æ©Ÿåƒ¹å€¼: é ä¼° $50,000 - $100,000</strong>
                                    <p>æ ¹æ“šæ¡è³¼æ•¸é‡å’Œç”¢å“å‹è™Ÿåˆ†æ</p>
                                </div>
                            </div>
                            <div class="insight-item">
                                <span class="insight-icon">â°</span>
                                <div>
                                    <strong>å»ºè­°è·Ÿé€²æ™‚é–“: ä»Šå¤©ä¸‹åˆ 2:00</strong>
                                    <p>å°æ–¹é€šå¸¸åœ¨ä¸‹åˆè¼ƒæ´»èº</p>
                                </div>
                            </div>
                            <div class="insight-item">
                                <span class="insight-icon">ğŸ“‹</span>
                                <div>
                                    <strong>å»ºè­°å›è¦†é‡é»</strong>
                                    <ul class="suggestion-list">
                                        <li>æä¾› X100 è©³ç´°è¦æ ¼æ–‡ä»¶</li>
                                        <li>èªªæ˜æ‰¹é‡æ¡è³¼æŠ˜æ‰£ï¼ˆ500+ ä»¶äº« 15% æŠ˜æ‰£ï¼‰</li>
                                        <li>æ‰¿è«¾ 3-5 å€‹å·¥ä½œæ—¥äº¤è²¨</li>
                                        <li>å¼·èª¿ä¸€å¹´ä¿å›ºå’ŒæŠ€è¡“æ”¯æ´</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <button class="generate-reply-btn">
                            <svg width="16" height="16" viewBox="0 0 16 16">
                                <path d="M8 2v12M2 8h12" stroke="currentColor" stroke-width="2"/>
                            </svg>
                            AI ç”Ÿæˆå›è¦†è‰ç¨¿
                        </button>
                    </div>
                </div>

                <!-- å¿«é€Ÿå›è¦† / èŠå¤©å€ -->
                <div class="quick-reply-section">
                    <div class="reply-tabs">
                        <button class="reply-tab active" data-mode="reply">å›è¦†</button>
                        <button class="reply-tab" data-mode="chat">å³æ™‚èŠå¤©</button>
                        <button class="reply-tab" data-mode="template">å¿«é€Ÿç¯„æœ¬</button>
                    </div>
                    <div class="reply-input-area">
                        <div class="input-toolbar">
                            <button class="toolbar-btn" title="AI å»ºè­°">
                                <svg width="18" height="18" viewBox="0 0 18 18">
                                    <circle cx="9" cy="9" r="7" stroke="currentColor" fill="none"/>
                                    <path d="M9 5v4l3 3" stroke="currentColor" fill="none"/>
                                </svg>
                            </button>
                            <button class="toolbar-btn" title="æ’å…¥ç¯„æœ¬">
                                <svg width="18" height="18" viewBox="0 0 18 18">
                                    <rect x="3" y="3" width="12" height="12" stroke="currentColor" fill="none"/>
                                </svg>
                            </button>
                            <button class="toolbar-btn" title="é™„ä»¶">
                                <svg width="18" height="18" viewBox="0 0 18 18">
                                    <path d="M10 2v10a3 3 0 0 1-6 0V4" stroke="currentColor" fill="none"/>
                                </svg>
                            </button>
                        </div>
                        <textarea class="reply-textarea" placeholder="è¼¸å…¥å›è¦†å…§å®¹... (AI æœƒè‡ªå‹•åˆ†ææ‚¨çš„èªæ°£å’Œå…§å®¹)"></textarea>
                        <div class="reply-actions">
                            <div class="ai-suggestions">
                                <span class="suggestion-chip">ğŸ“Š é™„åŠ å ±åƒ¹å–®</span>
                                <span class="suggestion-chip">ğŸ“… å®‰æ’æœƒè­°</span>
                                <span class="suggestion-chip">ğŸ æä¾›å„ªæƒ </span>
                            </div>
                            <button class="send-btn primary">
                                <svg width="20" height="20" viewBox="0 0 20 20">
                                    <path d="M2 10l16-8v16L2 10z" fill="white"/>
                                </svg>
                                ç™¼é€
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ç¬¬ä¸‰å±¤ï¼šAI åŠ©æ‰‹é¢æ¿ -->
        <section class="layer-3 ai-assistant-layer">
            <div class="assistant-header">
                <h2>
                    <svg width="24" height="24" viewBox="0 0 24 24">
                        <path d="M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5z" fill="#FF6B6B"/>
                        <circle cx="12" cy="12" r="3" fill="white"/>
                    </svg>
                    AI æ™ºèƒ½åŠ©æ‰‹
                </h2>
                <button class="toggle-btn" id="toggleAiPanel">
                    <svg width="20" height="20" viewBox="0 0 20 20">
                        <path d="M5 8l5 5 5-5" stroke="currentColor" fill="none" stroke-width="2"/>
                    </svg>
                </button>
            </div>

            <div class="assistant-tabs">
                <button class="assistant-tab active" data-panel="merchandising">
                    <svg width="20" height="20" viewBox="0 0 20 20">
                        <rect x="3" y="3" width="14" height="14" stroke="currentColor" fill="none"/>
                        <path d="M7 3v4M13 3v4M3 7h14" stroke="currentColor"/>
                    </svg>
                    å•†å“ç®¡ç† PM
                </button>
                <button class="assistant-tab" data-panel="tracking">
                    <svg width="20" height="20" viewBox="0 0 20 20">
                        <circle cx="10" cy="10" r="7" stroke="currentColor" fill="none"/>
                        <path d="M10 6v4l3 3" stroke="currentColor"/>
                    </svg>
                    éƒµä»¶è¿½è¹¤
                </button>
                <button class="assistant-tab" data-panel="followup">
                    <svg width="20" height="20" viewBox="0 0 20 20">
                        <path d="M10 2v8l5 3" stroke="currentColor" fill="none"/>
                        <circle cx="10" cy="10" r="8" stroke="currentColor" fill="none"/>
                    </svg>
                    è‡ªå‹•è·Ÿå‚¬
                </button>
            </div>

            <!-- Merchandising PM é¢æ¿ -->
            <div class="assistant-panel active" id="merchandisingPanel">
                <div class="panel-section">
                    <h3>ğŸ“¦ ç”¢å“ç®¡é“è¿½è¹¤</h3>
                    <div class="pipeline-cards">
                        <div class="pipeline-card">
                            <div class="card-header">
                                <h4>X100 æ™ºèƒ½è¨­å‚™</h4>
                                <span class="status-badge active">é€²è¡Œä¸­</span>
                            </div>
                            <div class="card-stats">
                                <div class="stat">
                                    <span class="stat-label">æ½›åœ¨å®¢æˆ¶</span>
                                    <span class="stat-value">12</span>
                                </div>
                                <div class="stat">
                                    <span class="stat-label">å ±åƒ¹å·²ç™¼</span>
                                    <span class="stat-value">8</span>
                                </div>
                                <div class="stat">
                                    <span class="stat-label">ç­‰å¾…å›è¦†</span>
                                    <span class="stat-value urgent">5</span>
                                </div>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 65%;"></div>
                            </div>
                            <p class="conversion-rate">è½‰æ›ç‡: 65% <span class="trend up">â†‘ 12%</span></p>
                        </div>

                        <div class="pipeline-card">
                            <div class="card-header">
                                <h4>Y200 ç³»åˆ—</h4>
                                <span class="status-badge planning">è¦åŠƒä¸­</span>
                            </div>
                            <div class="card-stats">
                                <div class="stat">
                                    <span class="stat-label">æ½›åœ¨å®¢æˆ¶</span>
                                    <span class="stat-value">7</span>
                                </div>
                                <div class="stat">
                                    <span class="stat-label">å ±åƒ¹å·²ç™¼</span>
                                    <span class="stat-value">3</span>
                                </div>
                                <div class="stat">
                                    <span class="stat-label">ç­‰å¾…å›è¦†</span>
                                    <span class="stat-value">2</span>
                                </div>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 42%;"></div>
                            </div>
                            <p class="conversion-rate">è½‰æ›ç‡: 42% <span class="trend down">â†“ 5%</span></p>
                        </div>
                    </div>
                </div>

                <div class="panel-section">
                    <h3>ğŸ“Š æœ¬é€±éŠ·å”®æ´å¯Ÿ</h3>
                    <div class="insights-grid">
                        <div class="insight-card">
                            <div class="insight-icon">ğŸ’°</div>
                            <div class="insight-data">
                                <p class="insight-label">é ä¼°æˆäº¤é¡</p>
                                <h4 class="insight-value">$285,000</h4>
                                <span class="insight-change positive">+23% vs ä¸Šé€±</span>
                            </div>
                        </div>
                        <div class="insight-card">
                            <div class="insight-icon">ğŸ“ˆ</div>
                            <div class="insight-data">
                                <p class="insight-label">å›è¦†ç‡</p>
                                <h4 class="insight-value">78%</h4>
                                <span class="insight-change positive">+5% vs ä¸Šé€±</span>
                            </div>
                        </div>
                        <div class="insight-card">
                            <div class="insight-icon">â±ï¸</div>
                            <div class="insight-data">
                                <p class="insight-label">å¹³å‡å›è¦†æ™‚é–“</p>
                                <h4 class="insight-value">2.3 å°æ™‚</h4>
                                <span class="insight-change negative">+0.5h vs ä¸Šé€±</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="panel-section">
                    <h3>ğŸ¯ AI å»ºè­°è¡Œå‹•</h3>
                    <div class="action-list">
                        <div class="action-item priority-high">
                            <div class="action-icon">âš¡</div>
                            <div class="action-content">
                                <h4>ç«‹å³è·Ÿé€²ï¼šç‹å°æ˜ - ABC ç§‘æŠ€</h4>
                                <p>å®¢æˆ¶ 2 å°æ™‚å‰ç™¼é€ç¬¬äºŒå°è©¢å•éƒµä»¶ï¼Œå»ºè­°ç«‹å³å›è¦†ä»¥æé«˜æˆäº¤ç‡</p>
                                <button class="action-btn-small primary">ç«‹å³è™•ç†</button>
                            </div>
                        </div>
                        <div class="action-item priority-medium">
                            <div class="action-icon">ğŸ“…</div>
                            <div class="action-content">
                                <h4>ä»Šæ—¥è·Ÿé€²ï¼šæç¾ç² - XYZ è²¿æ˜“</h4>
                                <p>ç‰©æµç¢ºèªéƒµä»¶å·² 1 å¤©æœªå›è¦†ï¼Œä»Šæ—¥æˆªæ­¢æ—¥æœŸ</p>
                                <button class="action-btn-small secondary">æŸ¥çœ‹è©³æƒ…</button>
                            </div>
                        </div>
                        <div class="action-item priority-low">
                            <div class="action-icon">ğŸ’¡</div>
                            <div class="action-content">
                                <h4>æ©Ÿæœƒè­˜åˆ¥ï¼š3 å€‹æ–°çš„é«˜åƒ¹å€¼å®¢æˆ¶</h4>
                                <p>AI è­˜åˆ¥å‡º 3 å€‹ç¬¦åˆæ‚¨ç›®æ¨™å®¢æˆ¶ç•«åƒçš„æ–°è¯çµ¡äºº</p>
                                <button class="action-btn-small secondary">æŸ¥çœ‹åˆ—è¡¨</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- éƒµä»¶è¿½è¹¤é¢æ¿ -->
            <div class="assistant-panel" id="trackingPanel">
                <div class="panel-section">
                    <h3>ğŸ“§ éƒµä»¶ç‹€æ…‹è¿½è¹¤</h3>
                    <div class="tracking-timeline">
                        <div class="timeline-item completed">
                            <div class="timeline-marker">âœ“</div>
                            <div class="timeline-content">
                                <h4>éƒµä»¶å·²ç™¼é€</h4>
                                <p>ç™¼é€çµ¦: ç‹å°æ˜ (wangxm@abc-tech.com)</p>
                                <span class="timeline-time">ä»Šå¤© ä¸Šåˆ 9:35</span>
                            </div>
                        </div>
                        <div class="timeline-item completed">
                            <div class="timeline-marker">âœ“</div>
                            <div class="timeline-content">
                                <h4>éƒµä»¶å·²é€é”</h4>
                                <p>æˆåŠŸé€é”æ”¶ä»¶äººéƒµä»¶ä¼ºæœå™¨</p>
                                <span class="timeline-time">ä»Šå¤© ä¸Šåˆ 9:36</span>
                            </div>
                        </div>
                        <div class="timeline-item completed">
                            <div class="timeline-marker">âœ“</div>
                            <div class="timeline-content">
                                <h4>éƒµä»¶å·²é–‹å•Ÿ</h4>
                                <p>æ”¶ä»¶äººå·²é–‹å•Ÿéƒµä»¶ (é–‹å•Ÿ 3 æ¬¡)</p>
                                <span class="timeline-time">ä»Šå¤© ä¸Šåˆ 10:12</span>
                            </div>
                        </div>
                        <div class="timeline-item completed">
                            <div class="timeline-marker">âœ“</div>
                            <div class="timeline-content">
                                <h4>é€£çµå·²é»æ“Š</h4>
                                <p>é»æ“Šäº†ç”¢å“è¦æ ¼æ–‡ä»¶é€£çµ</p>
                                <span class="timeline-time">ä»Šå¤© ä¸Šåˆ 10:15</span>
                            </div>
                        </div>
                        <div class="timeline-item pending">
                            <div class="timeline-marker">â³</div>
                            <div class="timeline-content">
                                <h4>ç­‰å¾…å›è¦†</h4>
                                <p>AI é æ¸¬å›è¦†æ™‚é–“: ä»Šå¤©ä¸‹åˆ 2:00 - 4:00</p>
                                <span class="timeline-time">é è¨ˆå›è¦†æ©Ÿç‡: 85%</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="panel-section">
                    <h3>ğŸ“Š äº’å‹•åˆ†æ</h3>
                    <div class="engagement-stats">
                        <div class="stat-row">
                            <span class="stat-label">é–‹å•Ÿç‡</span>
                            <div class="stat-bar">
                                <div class="stat-bar-fill" style="width: 92%;"></div>
                            </div>
                            <span class="stat-percentage">92%</span>
                        </div>
                        <div class="stat-row">
                            <span class="stat-label">é»æ“Šç‡</span>
                            <div class="stat-bar">
                                <div class="stat-bar-fill" style="width: 68%;"></div>
                            </div>
                            <span class="stat-percentage">68%</span>
                        </div>
                        <div class="stat-row">
                            <span class="stat-label">å›è¦†ç‡</span>
                            <div class="stat-bar">
                                <div class="stat-bar-fill" style="width: 75%;"></div>
                            </div>
                            <span class="stat-percentage">75%</span>
                        </div>
                        <div class="stat-row">
                            <span class="stat-label">é–±è®€æ™‚é–“</span>
                            <div class="stat-bar">
                                <div class="stat-bar-fill" style="width: 85%;"></div>
                            </div>
                            <span class="stat-percentage">å¹³å‡ 2.5 åˆ†é˜</span>
                        </div>
                    </div>
                </div>

                <div class="panel-section">
                    <h3>ğŸ” å®¢æˆ¶è¡Œç‚ºæ´å¯Ÿ</h3>
                    <div class="behavior-insights">
                        <div class="behavior-item">
                            <span class="behavior-icon">ğŸ‘ï¸</span>
                            <p><strong>ç‹å°æ˜</strong>åœ¨ä¸Šåˆ 10:12 æ‰“é–‹éƒµä»¶ï¼Œåœç•™ 3 åˆ†é˜ 20 ç§’</p>
                        </div>
                        <div class="behavior-item">
                            <span class="behavior-icon">ğŸ–±ï¸</span>
                            <p>é»æ“Šäº†<strong>ç”¢å“è¦æ ¼ PDF</strong>é€£çµï¼Œä¸‹è¼‰æ–‡ä»¶</p>
                        </div>
                        <div class="behavior-item">
                            <span class="behavior-icon">ğŸ”„</span>
                            <p>ä¹‹å¾Œåˆå›åˆ°éƒµä»¶<strong>é‡è¤‡é–±è®€</strong>äº† 2 æ¬¡</p>
                        </div>
                        <div class="behavior-item ai-prediction">
                            <span class="behavior-icon">ğŸ¤–</span>
                            <p><strong>AI é æ¸¬ï¼š</strong>æ ¹æ“šè¡Œç‚ºåˆ†æï¼Œå®¢æˆ¶é«˜åº¦æ„Ÿèˆˆè¶£ï¼Œå»ºè­°åœ¨ 2 å°æ™‚å…§ä¸»å‹•è·Ÿé€²</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- è‡ªå‹•è·Ÿå‚¬é¢æ¿ -->
            <div class="assistant-panel" id="followupPanel">
                <div class="panel-section">
                    <h3>â° è‡ªå‹•è·Ÿå‚¬æ’ç¨‹</h3>
                    <div class="followup-list">
                        <div class="followup-item active">
                            <div class="followup-header">
                                <div class="followup-contact">
                                    <img src="https://i.pravatar.cc/40?img=1" alt="Contact">
                                    <div>
                                        <h4>ç‹å°æ˜ - ABC ç§‘æŠ€</h4>
                                        <p>ç”¢å“å ±åƒ¹è«®è©¢</p>
                                    </div>
                                </div>
                                <span class="followup-status active">é€²è¡Œä¸­</span>
                            </div>
                            <div class="followup-timeline">
                                <div class="followup-step completed">
                                    <span class="step-number">1</span>
                                    <div class="step-content">
                                        <p><strong>é¦–æ¬¡è¯ç¹«</strong> - å·²å®Œæˆ</p>
                                        <span class="step-time">ä»Šå¤© ä¸Šåˆ 9:35</span>
                                    </div>
                                </div>
                                <div class="followup-step current">
                                    <span class="step-number">2</span>
                                    <div class="step-content">
                                        <p><strong>ç¬¬ä¸€æ¬¡è·Ÿé€²</strong> - é€²è¡Œä¸­</p>
                                        <span class="step-time">æ’ç¨‹: ä»Šå¤© ä¸‹åˆ 2:00</span>
                                        <div class="step-actions">
                                            <button class="step-btn">ç·¨è¼¯</button>
                                            <button class="step-btn">ç«‹å³ç™¼é€</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="followup-step pending">
                                    <span class="step-number">3</span>
                                    <div class="step-content">
                                        <p><strong>ç¬¬äºŒæ¬¡è·Ÿé€²</strong> - å¾…åŸ·è¡Œ</p>
                                        <span class="step-time">æ’ç¨‹: æ˜å¤© ä¸Šåˆ 10:00</span>
                                    </div>
                                </div>
                            </div>
                            <div class="followup-actions">
                                <button class="action-btn-small">æš«åœè·Ÿå‚¬</button>
                                <button class="action-btn-small">æ¨™è¨˜å·²å®Œæˆ</button>
                                <button class="action-btn-small primary">èª¿æ•´æ’ç¨‹</button>
                            </div>
                        </div>

                        <div class="followup-item">
                            <div class="followup-header">
                                <div class="followup-contact">
                                    <img src="https://i.pravatar.cc/40?img=5" alt="Contact">
                                    <div>
                                        <h4>æç¾ç² - XYZ è²¿æ˜“</h4>
                                        <p>ç‰©æµé…é€ç¢ºèª</p>
                                    </div>
                                </div>
                                <span class="followup-status urgent">ç·Šæ€¥</span>
                            </div>
                            <div class="followup-timeline">
                                <div class="followup-step completed">
                                    <span class="step-number">1</span>
                                    <div class="step-content">
                                        <p><strong>é¦–æ¬¡è¯ç¹«</strong> - å·²å®Œæˆ</p>
                                        <span class="step-time">æ˜¨å¤© ä¸‹åˆ 3:20</span>
                                    </div>
                                </div>
                                <div class="followup-step overdue">
                                    <span class="step-number">2</span>
                                    <div class="step-content">
                                        <p><strong>ç¬¬ä¸€æ¬¡è·Ÿé€²</strong> - å·²é€¾æœŸ</p>
                                        <span class="step-time">åŸå®š: ä»Šå¤© ä¸Šåˆ 9:00</span>
                                        <div class="step-actions">
                                            <button class="step-btn urgent">ç«‹å³è™•ç†</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="followup-item">
                            <div class="followup-header">
                                <div class="followup-contact">
                                    <img src="https://i.pravatar.cc/40?img=8" alt="Contact">
                                    <div>
                                        <h4>å¼µå»ºåœ‹ - DEF ä¼æ¥­</h4>
                                        <p>ç”¢å“è«®è©¢</p>
                                    </div>
                                </div>
                                <span class="followup-status scheduled">å·²æ’ç¨‹</span>
                            </div>
                            <div class="followup-summary">
                                <p>ä¸‹æ¬¡è·Ÿé€²: æ˜å¤© ä¸‹åˆ 3:00</p>
                                <button class="action-btn-small">æŸ¥çœ‹è©³æƒ…</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="panel-section">
                    <h3>ğŸ¤– æ™ºèƒ½è·Ÿå‚¬è¨­å®š</h3>
                    <div class="auto-followup-settings">
                        <div class="setting-item">
                            <div class="setting-label">
                                <h4>è‡ªå‹•è·Ÿå‚¬è¦å‰‡</h4>
                                <p>æ ¹æ“šå®¢æˆ¶é¡å‹å’Œéƒµä»¶å…§å®¹è‡ªå‹•è¨­å®šè·Ÿå‚¬è¨ˆåŠƒ</p>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="setting-item">
                            <div class="setting-label">
                                <h4>æ™ºèƒ½æ™‚é–“å„ªåŒ–</h4>
                                <p>AI æ ¹æ“šå®¢æˆ¶æ´»èºæ™‚é–“è‡ªå‹•èª¿æ•´ç™¼é€æ™‚é–“</p>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="setting-item">
                            <div class="setting-label">
                                <h4>è‡ªå‹•å…§å®¹ç”Ÿæˆ</h4>
                                <p>AI è‡ªå‹•ç”Ÿæˆå€‹æ€§åŒ–è·Ÿé€²éƒµä»¶å…§å®¹</p>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="panel-section">
                    <h3>ğŸ“ˆ è·Ÿå‚¬æ•ˆæœåˆ†æ</h3>
                    <div class="followup-analytics">
                        <div class="analytics-card">
                            <h4>æœ¬é€±è·Ÿå‚¬çµ±è¨ˆ</h4>
                            <div class="analytics-stats">
                                <div class="stat-item">
                                    <span class="stat-number">24</span>
                                    <span class="stat-label">è‡ªå‹•è·Ÿå‚¬éƒµä»¶</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-number">18</span>
                                    <span class="stat-label">æˆåŠŸç²å¾—å›è¦†</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-number">75%</span>
                                    <span class="stat-label">å›è¦†ç‡</span>
                                </div>
                            </div>
                        </div>
                        <div class="analytics-card">
                            <h4>æœ€ä½³è·Ÿé€²æ™‚æ©Ÿ</h4>
                            <div class="best-times">
                                <div class="time-slot">
                                    <span class="time-icon">ğŸŒ…</span>
                                    <span class="time-label">ä¸Šåˆ 9:00 - 11:00</span>
                                    <span class="time-rate">82% å›è¦†ç‡</span>
                                </div>
                                <div class="time-slot">
                                    <span class="time-icon">ğŸŒ†</span>
                                    <span class="time-label">ä¸‹åˆ 2:00 - 4:00</span>
                                    <span class="time-rate">78% å›è¦†ç‡</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="panel-section">
                    <button class="create-followup-btn">
                        <svg width="20" height="20" viewBox="0 0 20 20">
                            <path d="M10 4v12M4 10h12" stroke="white" stroke-width="2"/>
                        </svg>
                        å»ºç«‹æ–°çš„è·Ÿå‚¬è¨ˆåŠƒ
                    </button>
                </div>
            </div>
        </section>
    </main>

    <!-- åº•éƒ¨ç‹€æ…‹åˆ— -->
    <footer class="status-bar">
        <div class="status-left">
            <span class="status-item">
                <svg width="16" height="16" viewBox="0 0 16 16">
                    <circle cx="8" cy="8" r="6" fill="#00C853"/>
                </svg>
                ç³»çµ±æ­£å¸¸é‹è¡Œ
            </span>
            <span class="status-item">æœ€å¾ŒåŒæ­¥: å‰›å‰›</span>
        </div>
        <div class="status-right">
            <span class="status-item">AI è™•ç†ä¸­: 3 é …ä»»å‹™</span>
            <span class="status-item">ä»Šæ—¥è™•ç†: 28 å°éƒµä»¶</span>
        </div>
    </footer>

    <script src="js/outlook-ai.js"></script>
<script>
// æ¼”ç¤ºæ•¸æ“š
const DEMO_EMAILS = [
    {
        id: "1",
        from: { name: "ç‹å°æ˜", address: "wang@abc-tech.com" },
        subject: "é—œæ–¼ç”¢å“å ±åƒ¹çš„è¨è«–",
        date: new Date(Date.now() - 2*3600000),
        text: "æ‚¨å¥½ Amberï¼Œ\n\næˆ‘å€‘æ˜¯ ABC ç§‘æŠ€å…¬å¸çš„æ¡è³¼éƒ¨é–€ã€‚æœ€è¿‘åœ¨å¸‚å ´èª¿æŸ¥ä¸­æ³¨æ„åˆ°è²´å…¬å¸çš„ç”¢å“ç·šï¼Œç‰¹åˆ¥æ˜¯æ–°æ¨å‡ºçš„æ™ºèƒ½è¨­å‚™ç³»åˆ—ï¼Œæˆ‘å€‘éå¸¸æ„Ÿèˆˆè¶£ã€‚\n\nèƒ½å¦è«‹æ‚¨æä¾›ä»¥ä¸‹è³‡è¨Šï¼š\n- ç”¢å“å‹è™Ÿ X100 çš„è©³ç´°è¦æ ¼å’Œå ±åƒ¹\n- å¤§é‡æ¡è³¼çš„æŠ˜æ‰£æ–¹æ¡ˆ\n- äº¤è²¨æœŸå’Œå”®å¾Œæœå‹™æ¢æ¬¾\n\næˆ‘å€‘é è¨ˆæ¡è³¼æ•¸é‡åœ¨ 500-1000 ä»¶ä¹‹é–“ï¼Œé ç®—ç¯„åœåœ¨ $50,000-$100,000ã€‚å¸Œæœ›èƒ½åœ¨æœ¬æœˆåº•å‰åšå‡ºæ¡è³¼æ±ºå®šã€‚",
        isRead: false,
        priority: "high",
        aiAnalysis: {
            sentiment: "ç©æ¥µ",
            intent: "æ¡è³¼æ„å‘ 95%",
            urgency: "é«˜ - æœ¬æœˆåº•æˆªæ­¢",
            value: "$50K-$100K",
            keyPoints: ["ç”¢å“å‹è™Ÿ X100", "500-1000 ä»¶", "æœ¬æœˆåº•æ±ºå®š"]
        }
    },
    {
        id: "2",
        from: { name: "æç¾ç²", address: "li@xyz-trade.com" },
        subject: "ç‰©æµé…é€æ™‚é–“ç¢ºèª",
        date: new Date(Date.now() - 26*3600000),
        text: "æ‚¨å¥½ï¼Œ\n\nè«‹ç¢ºèªæœ¬æ‰¹è²¨ç‰©çš„é…é€æ™‚é–“ï¼Œæˆ‘å€‘é€™é‚Šéœ€è¦æå‰å®‰æ’å€‰å„²ç©ºé–“ã€‚\n\nè¨‚å–®ç·¨è™Ÿï¼š#XYZ-2024-001\næ•¸é‡ï¼š300 ä»¶\n\né€™æ‰¹è²¨ç‰©ä»Šæ—¥æˆªæ­¢ç¢ºèªï¼Œéº»ç…©å„˜å¿«å›è¦†ã€‚",
        isRead: false,
        priority: "urgent",
        aiAnalysis: {
            sentiment: "ç·Šæ€¥",
            intent: "è¨‚å–®ç¢ºèª",
            urgency: "ç·Šæ€¥ - ä»Šæ—¥æˆªæ­¢",
            value: "ç¾æœ‰è¨‚å–®",
            keyPoints: ["è¨‚å–® #XYZ-2024-001", "300 ä»¶", "ä»Šæ—¥æˆªæ­¢"]
        }
    },
    {
        id: "3",
        from: { name: "é™³é›…å©·", address: "chen@ghi-group.com" },
        subject: "æ–°ç”¢å“åˆä½œæ©Ÿæœƒ",
        date: new Date(Date.now() - 3*3600000),
        text: "æ‚¨å¥½ Amberï¼Œ\n\næˆ‘å€‘æ˜¯ GHI é›†åœ˜çš„æ¡è³¼ç¶“ç†ã€‚çœ‹åˆ°è²´å…¬å¸æœ€è¿‘æ¨å‡ºçš„æ–°ç”¢å“ç·šï¼Œæˆ‘å€‘èªç‚ºæœ‰å¾ˆå¥½çš„åˆä½œæ©Ÿæœƒã€‚\n\nGHI é›†åœ˜æ˜¯æ¥­å…§é ˜å…ˆçš„ç¶“éŠ·å•†ï¼Œæ¯å¹´æ¡è³¼é¡è¶…é $10Mã€‚æˆ‘å€‘æƒ³äº†è§£ï¼š\n- æ˜¯å¦æœ‰ç¶“éŠ·å•†åˆä½œæ–¹æ¡ˆ\n- é•·æœŸåˆä½œçš„åƒ¹æ ¼å„ªæƒ \n- ç¨å®¶ä»£ç†çš„å¯èƒ½æ€§",
        isRead: false,
        priority: "high",
        aiAnalysis: {
            sentiment: "éå¸¸ç©æ¥µ",
            intent: "æˆ°ç•¥åˆä½œ 98%",
            urgency: "ä¸­",
            value: "$10M+ å¹´åº¦",
            keyPoints: ["ç¶“éŠ·å•†åˆä½œ", "å¹´æ¡è³¼é¡ $10M+", "ç¨å®¶ä»£ç†"]
        }
    },
    {
        id: "4",
        from: { name: "å¼µå»ºåœ‹", address: "zhang@def-corp.com" },
        subject: "ç”¢å“æŠ€è¡“è¦æ ¼è«®è©¢",
        date: new Date(Date.now() - 5*3600000),
        text: "æ‚¨å¥½ï¼Œ\n\næˆ‘å€‘æ­£åœ¨è©•ä¼°è²´å…¬å¸çš„ç”¢å“æ˜¯å¦ç¬¦åˆæˆ‘å€‘çš„æŠ€è¡“éœ€æ±‚ã€‚\n\nè«‹å• X100 ç³»åˆ—æ˜¯å¦æ”¯æŒä»¥ä¸‹è¦æ ¼ï¼š\n- å·¥ä½œæº«åº¦ç¯„åœ -20Â°C è‡³ 60Â°C\n- IP67 é˜²æ°´é˜²å¡µç­‰ç´š\n- CE å’Œ FCC èªè­‰",
        isRead: false,
        priority: "medium",
        aiAnalysis: {
            sentiment: "ä¸­æ€§",
            intent: "æŠ€è¡“è©•ä¼° 70%",
            urgency: "ä¸­",
            value: "å¾…è©•ä¼°",
            keyPoints: ["æŠ€è¡“è¦æ ¼", "èªè­‰è¦æ±‚", "ç’°å¢ƒé©æ‡‰æ€§"]
        }
    },
    {
        id: "5",
        from: { name: "åŠ‰ç¶“ç†", address: "liu@jkl-trading.com" },
        subject: "Re: ä¸Šæœˆè¨‚å–®é€²åº¦",
        date: new Date(Date.now() - 17*3600000),
        text: "æ‚¨å¥½ï¼Œ\n\nä¸Šå€‹æœˆçš„è¨‚å–®ï¼ˆè¨‚å–®è™Ÿ #2024-1015ï¼‰ç›®å‰é€²åº¦å¦‚ä½•ï¼Ÿå®¢æˆ¶é‚£é‚Šä¸€ç›´åœ¨å‚¬ã€‚\n\nè«‹å›è¦†é è¨ˆäº¤è²¨æ™‚é–“ï¼Œè¬è¬ï¼",
        isRead: true,
        priority: "medium",
        aiAnalysis: {
            sentiment: "é—œåˆ‡",
            intent: "è¨‚å–®è¿½è¹¤",
            urgency: "ä¸­é«˜",
            value: "ç¾æœ‰å®¢æˆ¶",
            keyPoints: ["è¨‚å–® #2024-1015", "å®¢æˆ¶å‚¬ä¿ƒ", "äº¤è²¨æ™‚é–“"]
        }
    }
];

// è¼‰å…¥æ¼”ç¤ºæ•¸æ“š
window.addEventListener('DOMContentLoaded', () => {
    console.log('ğŸ­ æ¼”ç¤ºæ¨¡å¼ - ä½¿ç”¨æœ¬åœ°æ•¸æ“š');
    loadDemoData();
    showNotification('æ¼”ç¤ºæ¨¡å¼å·²å•Ÿå‹• - é¡¯ç¤ºæ¨¡æ“¬éƒµä»¶æ•¸æ“š', 'info');
});

function loadDemoData() {
    // é¡¯ç¤ºéƒµä»¶
    displayEmails(DEMO_EMAILS);
    
    // ç”Ÿæˆè¯çµ¡äººå¡ç‰‡
    const contactsContainer = document.querySelector('.contacts-scroll');
    if (contactsContainer) {
        contactsContainer.innerHTML = '';
        DEMO_EMAILS.forEach(email => {
            const card = createContactCard(email);
            contactsContainer.appendChild(card);
        });
    }
    
    // æ›´æ–°çµ±è¨ˆ
    updateStats();
}

function createContactCard(email) {
    const card = document.createElement('div');
    card.className = `contact-card ${email.isRead ? 'completed' : ''}`;
    card.dataset.emailId = email.id;
    
    const initial = email.from.name.charAt(0);
    const colors = ['#0078d4', '#00897b', '#e91e63', '#ff6f00', '#7b1fa2'];
    const color = colors[email.id.charCodeAt(0) % colors.length];
    
    card.innerHTML = `
        <div class="contact-avatar" style="background:${color}">${initial}</div>
        <div class="contact-info">
            <h4>${email.from.name}</h4>
            <p>${email.from.address}</p>
            <div class="contact-meta">
                <span class="priority-badge priority-${email.priority}">${email.priority === 'urgent' ? 'ç·Šæ€¥' : email.priority === 'high' ? 'é«˜' : 'ä¸­'}</span>
                <span class="value-estimate">${email.aiAnalysis.value}</span>
            </div>
        </div>
        ${!email.isRead ? '<div class="unread-indicator"></div>' : '<div class="checkmark">âœ“</div>'}
    `;
    
    card.addEventListener('click', () => showEmailDetail(email));
    return card;
}

function displayEmails(emails) {
    const container = document.querySelector('.email-list');
    if (!container) return;
    
    container.innerHTML = emails.map(email => `
        <div class="email-item ${!email.isRead ? 'unread' : ''}" data-email-id="${email.id}" onclick="showEmailDetail(${JSON.stringify(email).replace(/"/g, '&quot;')})">
            <div class="email-avatar">${email.from.name.charAt(0)}</div>
            <div class="email-info">
                <div class="email-header">
                    <span class="email-sender">${email.from.name}</span>
                    <span class="email-time">${formatTime(email.date)}</span>
                </div>
                <div class="email-subject">${email.subject}</div>
                <div class="email-preview">${email.text.substring(0, 80)}...</div>
                <div class="email-tags">
                    <span class="tag priority-${email.priority}">${email.priority === 'urgent' ? 'ç·Šæ€¥' : email.priority === 'high' ? 'é«˜å„ªå…ˆ' : 'ä¸­ç­‰'}</span>
                    <span class="tag">${email.aiAnalysis.intent}</span>
                </div>
            </div>
        </div>
    `).join('');
}

function showEmailDetail(email) {
    const contentPanel = document.querySelector('.email-content-panel');
    if (!contentPanel) return;
    
    contentPanel.innerHTML = `
        <div class="email-detail">
            <div class="email-detail-header">
                <h2>${email.subject}</h2>
                <div class="email-actions">
                    <button class="btn-icon" title="å›è¦†"><span>â†©ï¸</span></button>
                    <button class="btn-icon" title="è½‰ç™¼"><span>â¡ï¸</span></button>
                    <button class="btn-icon" title="åˆªé™¤"><span>ğŸ—‘ï¸</span></button>
                </div>
            </div>
            <div class="email-meta-info">
                <div class="sender-info">
                    <div class="avatar-large">${email.from.name.charAt(0)}</div>
                    <div>
                        <strong>${email.from.name}</strong>
                        <p>${email.from.address}</p>
                    </div>
                </div>
                <span class="email-date">${new Date(email.date).toLocaleString('zh-TW')}</span>
            </div>
            <div class="email-body">
                ${email.text.replace(/\n/g, '<br>')}
            </div>
            <div class="ai-insights-box">
                <div class="insights-header">
                    <h4>ğŸ¤– AI æ™ºèƒ½åˆ†æ</h4>
                </div>
                <div class="insights-content">
                    <div class="insight-item">
                        <span class="insight-icon">ğŸ¯</span>
                        <div>
                            <strong>å®¢æˆ¶æ„å‘</strong>
                            <p>${email.aiAnalysis.intent}</p>
                        </div>
                    </div>
                    <div class="insight-item">
                        <span class="insight-icon">ğŸ’°</span>
                        <div>
                            <strong>å•†æ¥­åƒ¹å€¼</strong>
                            <p>${email.aiAnalysis.value}</p>
                        </div>
                    </div>
                    <div class="insight-item">
                        <span class="insight-icon">âš¡</span>
                        <div>
                            <strong>ç·Šæ€¥ç¨‹åº¦</strong>
                            <p>${email.aiAnalysis.urgency}</p>
                        </div>
                    </div>
                    <div class="insight-item">
                        <span class="insight-icon">ğŸ“Œ</span>
                        <div>
                            <strong>é—œéµè¦é»</strong>
                            <p>${email.aiAnalysis.keyPoints.join(' â€¢ ')}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    `;
    
    // æ›´æ–° AI åŠ©ç†é¢æ¿
    updateAIPanel(email);
}

function updateAIPanel(email) {
    // æ›´æ–° Merchandising PM æ•¸æ“š
    const dealsContainer = document.querySelector('.deals-pipeline');
    if (dealsContainer && email.priority === 'high') {
        const dealCard = document.createElement('div');
        dealCard.className = 'deal-card';
        dealCard.innerHTML = `
            <h4>${email.from.name}</h4>
            <p class="deal-value">${email.aiAnalysis.value}</p>
            <div class="deal-progress">
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 35%"></div>
                </div>
                <span>åˆæ­¥æ¥è§¸</span>
            </div>
            <div class="deal-meta">
                <span>ğŸ¯ ${email.aiAnalysis.intent}</span>
            </div>
        `;
        dealsContainer.prepend(dealCard);
    }
}

function updateStats() {
    // æ›´æ–°çµ±è¨ˆæ•¸æ“š
    const stats = {
        totalDeals: DEMO_EMAILS.filter(e => e.priority === 'high').length,
        totalValue: '$160K+',
        activeConversations: DEMO_EMAILS.filter(e => !e.isRead).length,
        responseRate: '94%'
    };
    
    console.log('ğŸ“Š çµ±è¨ˆæ•¸æ“š:', stats);
}

function formatTime(date) {
    const d = new Date(date);
    const now = new Date();
    const diff = now - d;
    const hours = Math.floor(diff / 3600000);
    
    if (hours < 1) return 'å‰›å‰›';
    if (hours < 24) return `${hours} å°æ™‚å‰`;
    const days = Math.floor(hours / 24);
    if (days === 1) return 'æ˜¨å¤©';
    if (days < 7) return `${days} å¤©å‰`;
    return d.toLocaleDateString('zh-TW');
}

function showNotification(message, type = 'info') {
    console.log(`[${type.toUpperCase()}] ${message}`);
    
    // å‰µå»ºé€šçŸ¥å…ƒç´ 
    const notification = document.createElement('div');
    notification.className = `notification ${type}`;
    notification.textContent = message;
    notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        padding: 15px 25px;
        background: ${type === 'success' ? '#4caf50' : type === 'error' ? '#f44336' : '#2196f3'};
        color: white;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        z-index: 10000;
        animation: slideIn 0.3s ease-out;
    `;
    
    document.body.appendChild(notification);
    setTimeout(() => {
        notification.style.animation = 'slideOut 0.3s ease-out';
        setTimeout(() => notification.remove(), 300);
    }, 3000);
}
</script>
</body>
</html>
